<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GateKeeper</title>
   <link rel="icon" type="image/png" href="images/clipart1018763.png">
    <link rel="stylesheet" href="css/index.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.6/gsap.min.js"></script>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://trusted-cdn.com;">

<script>
    const blacklistedIPs = ["192.168.73.109"]; // blacklisted IPs

    // Function to get user's IP address
    function getUserIP(callback) {
        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => callback(data.ip))
            .catch(error => console.error('Error fetching IP:', error));
    }

    // Function to create honeypot field
    function createHoneypot() {
        console.log("Creating Honeypot...");

        // Check if honeypot already exists
        if (document.getElementById('honeypot')) {
            console.warn("Honeypot already exists!");
            return;
        }

        const form = document.createElement('form');
        form.style.display = 'none';

        const honeypot = document.createElement('input');
        honeypot.type = 'text';
        honeypot.name = "honeypot";
        honeypot.id = "honeypot";
        honeypot.autocomplete = 'off';

        form.appendChild(honeypot);
        document.body.appendChild(form);

        console.log("Honeypot Created successfully.");
    }

    // Function to verify honeypot (checking for bot behavior)
    function verifyHoneypot() {
        setTimeout(() => {
            const honeypot = document.getElementById("honeypot");

            if (!honeypot) {
                console.error("Honeypot not found! Aborting verification.");
                return;
            }

            console.log("Checking Honeypot:", honeypot.value);

            // If bot-data is entered, deny access
            if (honeypot.value.trim() !== "") {
                console.warn("Bot detected! Denying access.");
                document.body.innerHTML = "<h1>Access Denied</h1><p>Suspicious behavior detected.</p>";
            } else {
                console.log("User verified.");
                document.cookie = "verified=true; path=/; max-age=300"; // Set the cookie
                document.body.style.display = "block"; // Show the page
            }
        }, 3000); // Delay the verification to simulate processing time
    }

    // Function to clear the "verified" cookie on each page load (force honeypot check)
    function clearVerifiedCookie() {
        document.cookie = "verified=; path=/; max-age=0"; // Clear the cookie
        console.log("Verified cookie cleared.");
    }

    // Main event listener to handle everything
    document.addEventListener("DOMContentLoaded", function () {
        console.log("DOM Content Loaded");

        document.body.style.display = "none"; // Hide everything initially

        // Clear the "verified" cookie to trigger honeypot check on refresh
        clearVerifiedCookie();

        // Get the user's IP and check against blacklist
        getUserIP(function (ip) {
            console.log("User IP:", ip);
            
            if (blacklistedIPs.includes(ip)) {
                console.error("Blacklisted IP detected:", ip);
                document.body.innerHTML = "<h1>Access Denied</h1><p>Your IP is blacklisted.</p>";
            } else {
                // If the user isn't verified, start honeypot process
                if (!document.cookie.includes("verified=true")) {
                    createHoneypot();
                    verifyHoneypot();
                } else {
                    console.log("User already verified.");
                    document.body.style.display = "block"; // Show the page
                }
            }
        });
    });


		

</script>











    <style>
        #content {
            display: none; /* Hide content initially */
        }
    </style>
</head>
</head>
<body>
    <div id="all">
        <div class="cursor"></div>
        <div id="loader">
            <span class="color">12+</span>Firewallls
        </div>
        <div id="breaker">
        </div>
        <div id="breaker-two">
        </div>
        <div id="navigation-content">
            <div class="logo">
                <img src="images/clipart1018763.png" alt="logo">
            </div>
            <div class="navigation-close">
                <span class="close-first"></span>
                <span class="close-second"></span>
            </div>
            <div class="navigation-links">
                <a href="#" data-text="HOME" id="home-link" >HOME</a>
		                    <a href="https://luminous-dasik-d17ee5.netlify.app/" data-text="BIO" id="home-link" >REGISTER BIO</a>
            </div>
        </div>
        <div id="navigation-bar">
            <img src="images/clipart1018763.png" alt="logo">
            <div class="menubar">
                <span class="first-span"></span>
                <span class="second-span"></span>
                <span class="third-span"></span>
            </div>
        </div>
        <div id="header">
            <div id="particles"></div>
            <div class="social-media-links">
               <a href="https://www.instagram.com/1x.ub_/"><img src="images/instagram logo.png" class="social-media" alt="instagram-logo"></a>
            </div>
            <div class="header-content">
                <div class="header-content-box">
                <div class="firstline"><span class="color">Gate</span>Keeper</div>
                <div class="secondline">
                This
            <span class="txt-rotate color" data-period="1200"data-rotate='[ " Controls", " Protects", "is insane " ]'></span>
            <span class="slash">|</span>
        </div>
                    <div class="contact">
                <a href="mailto:sofiyasenthilkumar@gmail.com"><img src="images/mail.png" alt="email-pic" class="contactpic"></a>
                <a href="Tel:7010516233"><img src="images/call.png" alt="phone-pic" class="contactpic"></a>
                    </div>    
            </div>
            </div>
        </div>
        <div id="about">
            <div class="color-changer">
            <div class="color-panel">
                <img src="images/gear.png" alt="">
            </div>
            


    <script src="js/jquery.min.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/particles.min.js"></script>
    <script src="js/index.js"></script>
    <script>
  particlesJS("particles", {"particles":{"number":{"value":40,"density":{"enable":true,"value_area":800}},"color":{"value":"#ffffff"},"shape":{"type":"circle","stroke":{"width":0,"color":"#000000"},"polygon":{"nb_sides":5},"image":{"src":"img/github.svg","width":100,"height":100}},"opacity":{"value":0.5,"random":false,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},"size":{"value":3,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},"line_linked":{"enable":true,"distance":150,"color":"#ffffff","opacity":0.4,"width":1},"move":{"enable":true,"speed":6,"direction":"none","random":false,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}},"interactivity":{"detect_on":"canvas","events":{"onhover":{"enable":true,"mode":"repulse"},"onclick":{"enable":true,"mode":"push"},"resize":true},"modes":{"grab":{"distance":400,"line_linked":{"opacity":1}},"bubble":{"distance":400,"size":40,"duration":2,"opacity":8,"speed":3},"repulse":{"distance":200,"duration":0.4},"push":{"particles_nb":4},"remove":{"particles_nb":2}}},"retina_detect":true});
    </script>
</body>
</html>
